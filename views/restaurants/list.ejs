<!-- Banner Promocional Restaurante (igual que en la home) -->
<div id="restaurantPromoCarousel" class="carousel slide mb-5" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
    <button type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide-to="3" aria-label="Slide 4"></button>
  </div>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="/images/slider1.jpeg" class="d-block w-100" alt="Slider 1" style="max-height:350px;object-fit:cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h4 class="fw-bold">¡Bienvenido a A la Mesa!</h4>
        <p>Descubre los mejores restaurantes y platos de tu ciudad.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="/images/slider2.jpeg" class="d-block w-100" alt="Slider 2" style="max-height:350px;object-fit:cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h4 class="fw-bold">Variedad para todos los gustos</h4>
        <p>Pizzas, empanadas, hamburguesas, postres y mucho más.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="/images/slider3.jpg" class="d-block w-100" alt="Slider 3" style="max-height:350px;object-fit:cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h4 class="fw-bold">Delivery rápido y seguro</h4>
        <p>Recibe tu pedido en minutos, con la mejor atención.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="/images/slider4.jpg" class="d-block w-100" alt="Slider 4" style="max-height:350px;object-fit:cover;">
      <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-3">
        <h4 class="fw-bold">¿Tienes un restaurante?</h4>
        <p>Únete a nuestra plataforma y haz crecer tu negocio.</p>
      </div>
    </div>
  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Anterior</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#restaurantPromoCarousel" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Siguiente</span>
  </button>
</div>

<form method="GET" action="/restaurants" class="mb-4">
  <div class="input-group">
    <input type="text" class="form-control" name="search" placeholder="Buscar restaurante por nombre..." value="<%= currentSearch %>">
    <button class="btn btn-primary" type="submit"><i class="fas fa-search"></i> Buscar</button>
  </div>
</form>
<div class="row restaurant-list">
    <% if (restaurants.length > 0) { %>
        <% let includeStyles = true; %>
        <% restaurants.forEach(restaurant => { %>
            <%- include('../partials/restaurant-card', { restaurant: restaurant, includeStyles: includeStyles }) %>
            <% includeStyles = false; %>
        <% }); %>
    <% } else { %>
        <div class="col-12 text-center py-5">
            <p>No se encontraron restaurantes que coincidan con los filtros aplicados.</p>
        </div>
    <% } %>
</div>

<style>
    .restaurant-list {
        display: flex;
        flex-wrap: wrap;
        justify-content: flex-start; /* Alinear a la izquierda */
        margin-left: -15px;
        margin-right: -15px;
    }
    .restaurant-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: 1px solid #e9ecef;
        border-radius: 12px;
        overflow: hidden;
    }
    .restaurant-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 12px 24px rgba(0,0,0,0.1);
    }
    .restaurant-card-img-container {
        height: 180px;
        position: relative;
    }
    .restaurant-card-img-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
    .restaurant-card-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(to top, rgba(0,0,0,0.6) 0%, rgba(0,0,0,0) 50%);
    }
    .restaurant-card-time {
        position: absolute;
        bottom: 10px;
        right: 10px;
        background-color: rgba(0,0,0,0.7);
        color: white;
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 0.8rem;
    }
</style> 